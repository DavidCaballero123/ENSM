<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camino a la Identidad: El Juego de la Adolescencia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .progress-bar-bg {
            background-color: #4a5568; /* gray-700 */
        }
        .progress-bar-fg {
            transition: width 0.5s ease-in-out, background-color 0.5s ease-in-out;
        }
        .choice-btn {
            transition: all 0.2s ease-in-out;
        }
        .choice-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen p-4">

    <div id="container" class="w-full max-w-2xl mx-auto">

        <!-- Pantalla de Inicio -->
        <div id="start-screen" class="text-center p-8 bg-gray-800 rounded-xl shadow-2xl">
            <h1 class="text-4xl font-bold text-cyan-400 mb-4">Camino a la Identidad</h1>
            <p class="text-lg text-gray-300 mb-6">Un viaje a trav칠s de la adolescencia. Toma decisiones y forja tu propio camino.</p>
            <p class="text-sm text-gray-400 mb-8">Basado en el "An치lisis Integral del Desarrollo Humano", este juego te pone en el lugar de un adolescente. Tus elecciones impactar치n tu salud, identidad, vida social y estudios. 쮼st치s listo para empezar?</p>
            <button id="start-btn" class="w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-6 rounded-lg text-xl choice-btn">Comenzar el Viaje</button>
        </div>

        <!-- Pantalla de Juego -->
        <div id="game-screen" class="hidden">
            <div class="bg-gray-800 rounded-xl shadow-2xl p-6 md:p-8">
                <div class="mb-6">
                    <h2 id="stage-title" class="text-2xl font-bold text-center text-yellow-400 mb-6"></h2>
                </div>

                <!-- Estad칤sticas -->
                <div id="stats-container" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                    <!-- Las estad칤sticas se generar치n aqu칤 con JS -->
                </div>

                <!-- Tarjeta de Evento -->
                <div id="event-card" class="bg-gray-700 p-6 rounded-lg mb-6 min-h-[150px]">
                    <p id="event-text" class="text-lg text-gray-200"></p>
                </div>

                <!-- Opciones -->
                <div id="choices-container" class="grid grid-cols-1 gap-4 mb-6">
                    <!-- Los botones de opci칩n se generar치n aqu칤 con JS -->
                </div>

                <!-- Retroalimentaci칩n -->
                <div id="feedback-container" class="min-h-[100px]">
                    <div id="feedback-card" class="hidden bg-gray-900 p-4 rounded-lg">
                        <p id="feedback-text" class="text-center text-gray-300"></p>
                    </div>
                </div>

                <button id="next-btn" class="hidden w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-6 rounded-lg text-lg choice-btn mt-4">Siguiente</button>
            </div>
        </div>

        <!-- Pantalla Final -->
        <div id="end-screen" class="hidden text-center p-8 bg-gray-800 rounded-xl shadow-2xl fade-in">
            <h1 class="text-4xl font-bold text-cyan-400 mb-4">Fin del Viaje</h1>
            <p id="end-title" class="text-2xl text-yellow-400 font-semibold mb-4"></p>
            <p id="end-text" class="text-lg text-gray-300 mb-8"></p>
            <div id="final-stats" class="mb-8"></div>
            <button id="restart-btn" class="w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 px-6 rounded-lg text-xl choice-btn">Jugar de Nuevo</button>
        </div>
    </div>

    <script>
        // --- ELEMENTOS DEL DOM ---
        const startScreen = document.getElementById('start-screen');
        const gameScreen = document.getElementById('game-screen');
        const endScreen = document.getElementById('end-screen');
        
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const nextBtn = document.getElementById('next-btn');

        const stageTitle = document.getElementById('stage-title');
        const statsContainer = document.getElementById('stats-container');
        const eventText = document.getElementById('event-text');
        const choicesContainer = document.getElementById('choices-container');
        const feedbackCard = document.getElementById('feedback-card');
        const feedbackText = document.getElementById('feedback-text');

        // --- DATOS DEL JUEGO ---
        const STAT_NAMES = {
            health: { label: 'Salud', icon: '仇벒잺' },
            identity: { label: 'Identidad', icon: '游녻' },
            social: { label: 'Social', icon: '游논' },
            academic: { label: 'Acad칠mico', icon: '游닄' }
        };
        
        // Eventos basados en el documento proporcionado
        const events = [
            // --- Adolescencia Temprana (10-14 a침os) ---
            {
                stage: 'Adolescencia Temprana',
                text: 'Notas que tu cuerpo est치 cambiando r치pidamente (el "estir칩n") y te sientes un poco torpe e inseguro. Un amigo te dice: "쮼st치s bien? Te ves diferente".',
                choices: [
                    { text: 'Confiarle que te sientes raro con tu cuerpo.', effects: { identity: 10, social: 10, health: 5 }, feedback: 'Buena elecci칩n. Compartir tus inseguridades fortalece tus lazos sociales y tu autoconocimiento.' },
                    { text: 'Hacer una broma para ocultar tu incomodidad.', effects: { identity: -5, social: 5 }, feedback: 'El humor puede ser una defensa, pero afrontar tus sentimientos es clave para construir tu identidad.' },
                    { text: 'Enojarte y decirle que no es su asunto.', effects: { identity: -10, social: -15 }, feedback: 'El humor cambiante es com칰n, pero puede afectar tus relaciones. La comunicaci칩n es importante.' }
                ]
            },
            {
                stage: 'Adolescencia Temprana',
                text: 'Tus padres quieren saber todo lo que haces y con qui칠n hablas. Sientes una fuerte necesidad de tener tu propio espacio y privacidad.',
                choices: [
                    { text: 'Hablar con ellos calmadamente sobre tu necesidad de privacidad.', effects: { identity: 10, social: 5 }, feedback: 'Establecer l칤mites de forma respetuosa es un paso importante hacia la autonom칤a.' },
                    { text: 'Ocultarles cosas y volverte m치s reservado.', effects: { identity: 5, social: -10 }, feedback: 'Si bien buscas autonom칤a, esto puede generar desconfianza y da침ar la relaci칩n familiar.' },
                    { text: 'Desafiar su autoridad constantemente y discutir por todo.', effects: { social: -15, academic: -5 }, feedback: 'El conflicto con los padres es parte del proceso, pero el desaf칤o constante genera estr칠s.' }
                ]
            },
            {
                stage: 'Adolescencia Temprana',
                text: 'Tu grupo de amigos empieza a interesarse en cosas que a ti no te llaman la atenci칩n. Te sientes presionado a seguirlos para no quedarte solo.',
                choices: [
                    { text: 'Proponer una actividad que a ti te guste.', effects: { identity: 10, social: 5 }, feedback: 'Defender tus propios intereses es fundamental para definir qui칠n eres, m치s all치 del grupo.' },
                    { text: 'Participar sin ganas para no ser excluido.', effects: { identity: -10, social: 10 }, feedback: 'Priorizar al grupo sobre ti mismo es com칰n, pero puede llevar a la confusi칩n de tu propia identidad.' },
                    { text: 'Alejarte del grupo y buscar amigos nuevos.', effects: { social: -10 }, feedback: 'El grupo de pares es un gran soporte en esta etapa; a veces solo se necesita comunicaci칩n.' }
                ]
            },
            // --- Adolescencia Media (14-17 a침os) ---
            {
                stage: 'Adolescencia Media',
                text: 'Est치s en una fiesta y un amigo popular te ofrece un cigarrillo. Todos te est치n mirando. Sientes la presi칩n del grupo.',
                choices: [
                    { text: 'Aceptar para no desentonar.', effects: { health: -15, social: 10 }, feedback: 'Ceder a la presi칩n de grupo es un riesgo com칰n, motivado por el sentimiento de que todos te observan (audiencia imaginaria).' },
                    { text: 'Rechazarlo amablemente pero con firmeza.', effects: { health: 10, identity: 15, social: -5 }, feedback: 'Tomar decisiones saludables, aunque sean impopulares, fortalece tu identidad y autocontrol.' },
                    { text: 'Tomarlo y fingir que fumas.', effects: { health: -5, social: 5, identity: -10 }, feedback: 'Intentar encajar a costa de tus valores genera confusi칩n interna sobre qui칠n eres realmente.' }
                ]
            },
             {
                stage: 'Adolescencia Media',
                text: 'Te sientes invencible, como si nada malo pudiera pasarte. Un amigo te reta a hacer algo arriesgado, como conducir una moto sin casco.',
                choices: [
                    { text: 'Aceptar el reto. 춰La vida es una sola!', effects: { health: -30, social: 10 }, feedback: 'Este sentimiento de omnipotencia es t칤pico de la adolescencia media y puede llevar a conductas de riesgo peligrosas.' },
                    { text: 'Reconocer el peligro y negarte.', effects: { health: 15, identity: 10 }, feedback: 'Aunque tu cerebro te impulse a la acci칩n, tu capacidad de pensamiento abstracto te permite evaluar consecuencias. 춰Bien hecho!' },
                    { text: 'Proponer una actividad emocionante pero segura.', effects: { health: 5, social: 15, identity: 5 }, feedback: 'Canalizar la b칰squeda de emociones hacia actividades seguras es una estrategia de desarrollo muy madura.' }
                ]
            },
            {
                stage: 'Adolescencia Media',
                text: 'Pasas horas en redes sociales, comparando tu vida con las de los dem치s. Empiezas a sentir que tu vida es aburrida y t칰 no eres suficiente.',
                choices: [
                    { text: 'Limitar tu tiempo en redes y enfocarte en tus hobbies.', effects: { health: 10, identity: 10, social: -5, academic: 5 }, feedback: 'Reconocer el impacto negativo del mundo digital es clave. La identidad se construye en la realidad, no en perfiles online.' },
                    { text: 'Crear un perfil "perfecto" para competir.', effects: { identity: -15, social: 5 }, feedback: 'Crear identidades falsas te aleja de tu verdadero yo y puede causar ansiedad y problemas de autoestima.' },
                    { text: 'Hablar con un amigo o familiar sobre c칩mo te sientes.', effects: { health: 15, identity: 5, social: 10 }, feedback: 'El apoyo de tu red social real es un factor protector fundamental contra los riesgos del mundo digital.' }
                ]
            },
            // --- Adolescencia Tard칤a (18-21 a침os) ---
            {
                stage: 'Adolescencia Tard칤a',
                text: 'Es momento de pensar seriamente en tu futuro (carrera, trabajo). Sientes la presi칩n de tomar una decisi칩n que definir치 tu vida.',
                choices: [
                    { text: 'Investigar a fondo opciones que se alineen con tus valores e intereses.', effects: { academic: 15, identity: 15 }, feedback: 'Tu pensamiento est치 ahora orientado al futuro. Usar tu capacidad de an치lisis para planificar es un signo de madurez.' },
                    { text: 'Elegir lo que tus padres o la sociedad esperan de ti.', effects: { academic: 5, identity: -15 }, feedback: 'Aunque la relaci칩n con tus padres mejora, tomar decisiones para complacer a otros puede llevar a la confusi칩n de roles.' },
                    { text: 'No pensar en eso y esperar que las cosas se resuelvan solas.', effects: { academic: -20, identity: -10 }, feedback: 'Evitar decisiones importantes puede generar ansiedad. La tarea es comprometerse con metas e ideales propios.' }
                ]
            },
            {
                stage: 'Adolescencia Tard칤a',
                text: 'Tu relaci칩n de pareja se ha vuelto muy importante. Tu pareja quiere pasar todo el tiempo contigo, alej치ndote un poco de tus amigos y estudios.',
                choices: [
                    { text: 'Buscar un equilibrio entre pareja, amigos y responsabilidades.', effects: { social: 10, academic: 10, identity: 10 }, feedback: 'Has desarrollado un sentido de identidad m치s firme que te permite mantener relaciones m치s estables y equilibradas.' },
                    { text: 'Priorizar a tu pareja por encima de todo.', effects: { social: -15, academic: -10 }, feedback: 'Las relaciones intensas son parte del desarrollo, pero descuidar otras 치reas de tu vida no es saludable a largo plazo.' },
                    { text: 'Terminar la relaci칩n para enfocarte en ti mismo.', effects: { identity: 5, social: -10 }, feedback: 'A veces, tomar distancia es necesario, pero la madurez implica aprender a integrar las diferentes facetas de la vida.' }
                ]
            },
             {
                stage: 'Adolescencia Tard칤a',
                text: 'Miras hacia atr치s y te das cuenta de que algunas ideas de tus padres no eran tan malas despu칠s de todo. Tienes la oportunidad de hablar con ellos sobre tus planes.',
                choices: [
                    { text: 'Compartir tus planes y escuchar sus consejos, pero tomando tu propia decisi칩n.', effects: { identity: 15, social: 15 }, feedback: 'Excelente. Has reaceptado los valores paternos desde una perspectiva m치s adulta, estableciendo una relaci칩n de igual a igual.' },
                    { text: 'Ignorarlos para demostrar que eres completamente independiente.', effects: { identity: 5, social: -5 }, feedback: 'La independencia no significa rechazar toda influencia, sino integrar aprendizajes y forjar tu propio criterio.' },
                    { text: 'Volver a depender de ellos para que tomen las decisiones por ti.', effects: { identity: -20, academic: 5 }, feedback: 'Esto indica una dificultad para resolver la crisis de identidad, volviendo a una posici칩n m치s infantil.' }
                ]
            }
        ];
        
        // --- ESTADO DEL JUEGO ---
        let gameState = {};

        function initGameState() {
            gameState = {
                stats: {
                    health: 60,
                    identity: 50,
                    social: 60,
                    academic: 50
                },
                currentStageIndex: 0,
                eventsInStage: 0,
                currentEvent: null
            };
        }

        const stages = ['Adolescencia Temprana', 'Adolescencia Media', 'Adolescencia Tard칤a'];

        // --- L칍GICA DE LA INTERFAZ ---
        function updateStatsUI() {
            statsContainer.innerHTML = '';
            for (const key in gameState.stats) {
                const statInfo = STAT_NAMES[key];
                const value = Math.max(0, Math.min(100, gameState.stats[key]));
                
                let colorClass = 'bg-green-500';
                if (value < 50) colorClass = 'bg-yellow-500';
                if (value < 25) colorClass = 'bg-red-500';

                const statElement = document.createElement('div');
                statElement.innerHTML = `
                    <div class="text-sm font-semibold text-gray-300 mb-1">${statInfo.icon} ${statInfo.label}</div>
                    <div class="progress-bar-bg w-full h-4 rounded-full">
                        <div class="progress-bar-fg h-4 rounded-full ${colorClass}" style="width: ${value}%;"></div>
                    </div>
                `;
                statsContainer.appendChild(statElement);
            }
        }

        function showFeedback(text) {
            feedbackText.textContent = text;
            feedbackCard.classList.remove('hidden');
            feedbackCard.classList.add('fade-in');
            choicesContainer.childNodes.forEach(button => button.disabled = true);
            nextBtn.classList.remove('hidden');
        }

        function displayEvent() {
            feedbackCard.classList.add('hidden');
            nextBtn.classList.add('hidden');

            const stageEvents = events.filter(e => e.stage === stages[gameState.currentStageIndex]);
            if (gameState.eventsInStage >= stageEvents.length) {
                moveToNextStage();
                return;
            }

            gameState.currentEvent = stageEvents[gameState.eventsInStage];
            
            stageTitle.textContent = gameState.currentEvent.stage;
            eventText.textContent = gameState.currentEvent.text;
            choicesContainer.innerHTML = '';

            gameState.currentEvent.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.textContent = choice.text;
                button.className = 'w-full bg-gray-600 hover:bg-cyan-700 text-white font-semibold py-3 px-4 rounded-lg choice-btn';
                button.onclick = () => {
                    // Aplicar efectos
                    for (const stat in choice.effects) {
                        gameState.stats[stat] += choice.effects[stat];
                    }
                    updateStatsUI();
                    showFeedback(choice.feedback);
                };
                choicesContainer.appendChild(button);
            });
        }
        
        function moveToNextStage() {
            gameState.currentStageIndex++;
            gameState.eventsInStage = 0;
            if (gameState.currentStageIndex >= stages.length) {
                endGame();
            } else {
                displayEvent();
            }
        }

        function nextTurn() {
            gameState.eventsInStage++;
            displayEvent();
        }

        // --- FLUJO DEL JUEGO ---
        function startGame() {
            initGameState();
            startScreen.classList.add('hidden');
            endScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            gameScreen.classList.add('fade-in');
            updateStatsUI();
            displayEvent();
        }

        function endGame() {
            gameScreen.classList.add('hidden');
            endScreen.classList.remove('hidden');

            const { health, identity, social, academic } = gameState.stats;
            const avgStat = (health + identity + social + academic) / 4;

            let title, text;
            if (identity >= 80 && avgStat >= 60) {
                title = "춰Identidad Forjada con 칄xito!";
                text = "Has navegado la adolescencia con sabidur칤a. Lograste un fuerte sentido de qui칠n eres, manteniendo un equilibrio saludable en tu vida. Est치s listo para los desaf칤os de la adultez con una base s칩lida.";
            } else if (identity >= 60 && avgStat >= 45) {
                title = "Un Camino S칩lido Recorrido";
                text = "Tuviste tus altibajos, pero superaste la crisis de identidad vs. confusi칩n de roles. Tienes una buena idea de tus valores y metas, aunque algunas 치reas de tu vida necesitaron m치s atenci칩n. Un buen punto de partida para el futuro.";
            } else {
                title = "Un Viaje Lleno de Turbulencias";
                text = "La adolescencia fue un periodo complejo y desafiante. La b칰squeda de tu identidad fue dif칤cil y te dej칩 con m치s preguntas que respuestas. Recuerda, el desarrollo es un proceso continuo y cada experiencia es una lecci칩n.";
            }

            document.getElementById('end-title').textContent = title;
            document.getElementById('end-text').textContent = text;
            
            // Mostrar estad칤sticas finales
            const finalStatsContainer = document.getElementById('final-stats');
            finalStatsContainer.innerHTML = '<h3 class="text-xl font-bold mb-2 text-gray-300">Resultado Final</h3>';
            const finalStatsGrid = document.createElement('div');
            finalStatsGrid.className = 'grid grid-cols-2 gap-4 max-w-md mx-auto';
            for (const key in gameState.stats) {
                const statInfo = STAT_NAMES[key];
                const value = Math.max(0, Math.min(100, gameState.stats[key]));
                finalStatsGrid.innerHTML += `
                    <div class="bg-gray-700 p-3 rounded-lg">
                        <div class="font-semibold">${statInfo.icon} ${statInfo.label}</div>
                        <div class="text-2xl font-bold text-cyan-400">${value}</div>
                    </div>
                `;
            }
            finalStatsContainer.appendChild(finalStatsGrid);
        }

        // --- EVENT LISTENERS ---
        startBtn.addEventListener('click', startGame);
        restartBtn.addEventListener('click', startGame);
        nextBtn.addEventListener('click', nextTurn);

    </script>
</body>
</html>


